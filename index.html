<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Baxo Procurement</title>

<style>
:root{
  --navy:#002d40;
  --lime:#a4d65e;
  --bg:#f6f8fb;
}
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:var(--bg);}
header{background:#fff;padding:14px 18px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 8px rgba(0,0,0,.05);}
h1{font-size:16px;color:var(--navy);margin:0;font-weight:900;}
button{border:none;border-radius:999px;padding:10px 16px;font-weight:700;cursor:pointer;}
.btn-lime{background:var(--lime);color:var(--navy);}
.btn-navy{background:var(--navy);color:#fff;}

section{padding:18px;}
h2{margin:0 0 12px;color:var(--navy);}

.scroll{display:flex;gap:14px;overflow-x:auto;padding-bottom:10px;}
.card{width:140px;flex-shrink:0;cursor:pointer;}
.circle{width:140px;height:140px;border-radius:50%;background:#ddd;position:relative;overflow:hidden;}
.circle img{width:100%;height:100%;object-fit:cover;}
.label{position:absolute;bottom:0;width:100%;background:rgba(0,0,0,.65);color:#fff;font-size:11px;padding:6px;text-align:center;}
.placeholder{display:flex;align-items:center;justify-content:center;text-align:center;font-size:11px;padding:10px;}

.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:16px;}
.search{width:100%;padding:12px;border-radius:10px;border:1px solid #ccc;margin-bottom:16px;}

#drawer{position:fixed;bottom:0;left:0;right:0;background:#fff;border-top-left-radius:24px;border-top-right-radius:24px;
box-shadow:0 -6px 20px rgba(0,0,0,.15);max-height:80vh;transform:translateY(100%);transition:.3s;}
#drawer.open{transform:translateY(0);}
.drawer-head{padding:16px;font-weight:900;color:var(--navy);display:flex;justify-content:space-between;}
.item{border-bottom:1px solid #eee;padding:12px;}
select,input{width:100%;padding:8px;border-radius:8px;border:1px solid #ccc;margin-top:6px;}
.qty{display:flex;gap:10px;align-items:center;margin-top:6px;}
.qty button{padding:6px 12px;}
.footer{padding:14px;}
</style>
</head>

<body>

<header>
  <h1>BAXO PROCUREMENT</h1>
  <button class="btn-navy" onclick="toggleDrawer()">Quote (<span id="count">0</span>)</button>
</header>

<section>
  <h2>‚≠ê Most Requested</h2>
  <div class="scroll" id="popular"></div>
</section>

<section>
  <input class="search" placeholder="Search products‚Ä¶" id="search">
  <div class="grid" id="catalog"></div>
</section>

<div id="drawer">
  <div class="drawer-head">
    Quote Request
    <span onclick="toggleDrawer()" style="cursor:pointer">‚úï</span>
  </div>
  <div id="quote"></div>
  <div class="footer">
    <button class="btn-lime" style="width:100%" onclick="sendWhatsApp()">Submit via WhatsApp</button>
  </div>
</div>

<script>
const products = [
{n:"Two-Tone Conti Suit",c:"PPE",v:["Size 32-42"]},
{n:"Reflective Conti Suit",c:"PPE",v:["Navy","Royal Blue"]},
{n:"Flame Retardant Suit",c:"PPE",v:["D59 SABS Approved"]},
{n:"Acid Resistant Suit",c:"PPE",v:["Chemical Grade"]},
{n:"Chelsea Safety Boots",c:"PPE",v:["Brown","Black","Size 3-13"]},
{n:"Bova Traxx Boots",c:"PPE",v:["Heavy Duty"]},
{n:"Capps Safety Shoes",c:"PPE",v:["Steel Toe"]},
{n:"Gum Boots",c:"PPE",v:["PVC Waterproof"]},
{n:"Safety Hard Hat",c:"PPE",v:["White","Yellow","Blue","Red"]},
{n:"Reflective Vest",c:"PPE",v:["Yellow","Orange"]},
{n:"Reflective Mesh Bib",c:"PPE",v:["Traffic Control"]},
{n:"Rain Suit",c:"PPE",v:["PVC Heavy Duty"]},
{n:"Freezer Jacket",c:"PPE",v:["Thermal"]},
{n:"Dust Mask FFP2",c:"PPE",v:["Box"]},
{n:"Safety Goggles",c:"PPE",v:["Anti Fog"]},
{n:"Ear Muffs",c:"PPE",v:["Noise Reduction"]},
{n:"Leather Gloves",c:"PPE",v:["Welding Grade"]},
{n:"PVC Dipped Gloves",c:"PPE",v:["Chemical Resistant"]},

{n:"Nitrile Gloves (100)",c:"Medical",v:["Small","Medium","Large"]},
{n:"Latex Gloves (100)",c:"Medical",v:["S/M/L"]},
{n:"Surgical Masks (50)",c:"Medical",v:["3-Ply"]},
{n:"N95 Respirators",c:"Medical",v:["Medical Grade"]},
{n:"Elbow Crutches",c:"Medical",v:["Pair"]},
{n:"Sharps Bin",c:"Medical",v:["5L","10L","20L"]},
{n:"2ml Syringes",c:"Medical",v:["Sterile"]},
{n:"5ml Syringes",c:"Medical",v:["Sterile"]},
{n:"10ml Syringes",c:"Medical",v:["Sterile"]},
{n:"21G Needles",c:"Medical",v:["Green"]},
{n:"23G Needles",c:"Medical",v:["Blue"]},
{n:"Alcohol Prep Pads",c:"Medical",v:["70% IPA"]},
{n:"Digital Thermometer",c:"Medical",v:["Rapid Read"]},
{n:"Pulse Oximeter",c:"Medical",v:["Fingertip"]},
{n:"First Aid Kit Reg 3",c:"Medical",v:["Standard"]},
{n:"First Aid Kit Reg 7",c:"Medical",v:["Industrial"]},

{n:"Hospital Disinfectant",c:"Hygiene",v:["5L","25L"]},
{n:"Hand Sanitizer",c:"Hygiene",v:["5L"]},
{n:"Industrial Detergent",c:"Hygiene",v:["5L","25L"]},
{n:"Pine Disinfectant",c:"Hygiene",v:["General"]},
{n:"Cleaning Trolley",c:"Hygiene",v:["3 Shelf"]},
{n:"Double Mop Bucket",c:"Hygiene",v:["25L x2"]},
{n:"Fan Mop Set",c:"Hygiene",v:["Industrial"]},
{n:"Soft Broom",c:"Hygiene",v:["Indoor"]},
{n:"Hard Broom",c:"Hygiene",v:["Outdoor"]},
{n:"Microfiber Cloths",c:"Hygiene",v:["Pack"]}
];

let quote=[],counts=JSON.parse(localStorage.getItem("counts")||"{}");

function card(p){
  const d=document.createElement("div");d.className="card";
  d.innerHTML=`<div class="circle"><div class="placeholder">${p.n}</div><div class="label">${p.n}</div></div>`;
  d.onclick=()=>add(p);return d;
}

function render(list){
  const c=document.getElementById("catalog");c.innerHTML="";
  list.forEach(p=>c.appendChild(card(p)));
}

function add(p){
  quote.push({p:p.n,v:p.v[0],q:1});
  counts[p.n]=(counts[p.n]||0)+1;
  localStorage.setItem("counts",JSON.stringify(counts));
  document.getElementById("count").innerText=quote.length;
  renderQuote();renderPopular();
}

function renderQuote(){
  const q=document.getElementById("quote");q.innerHTML="";
  quote.forEach((i,x)=>{
    q.innerHTML+=`
    <div class="item">
      <strong>${i.p}</strong>
      <select onchange="quote[${x}].v=this.value">${products.find(p=>p.n===i.p).v.map(v=>`<option>${v}</option>`)}</select>
      <div class="qty">
        <button onclick="quote[${x}].q++">+</button>
        ${i.q}
        <button onclick="quote.splice(${x},1);renderQuote()">üóë</button>
      </div>
    </div>`;
  });
}

function renderPopular(){
  const p=document.getElementById("popular");p.innerHTML="";
  [...products].sort((a,b)=>(counts[b.n]||0)-(counts[a.n]||0)).slice(0,5).forEach(x=>p.appendChild(card(x)));
}

function toggleDrawer(){document.getElementById("drawer").classList.toggle("open");}

function sendWhatsApp(){
  let m="*BAXO QUOTE REQUEST*\n\n";
  quote.forEach(i=>m+=`‚Ä¢ ${i.q}x ${i.p} (${i.v})\n`);
  window.open("https://wa.me/26773811270?text="+encodeURIComponent(m));
}

document.getElementById("search").oninput=e=>{
  render(products.filter(p=>p.n.toLowerCase().includes(e.target.value.toLowerCase())));
};

render(products);renderPopular();
</script>
</body>
</html>
