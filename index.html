<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Baxo Solutions | Botswana Medical Portal</title>
<script src="https://cdn.tailwindcss.com"></script>

<style>
:root { --navy:#002D40; --lime:#A4D65E; }
body{
  margin:0;font-family:sans-serif;overflow-x:hidden;min-height:100vh;
  background:linear-gradient(rgba(248,250,252,.8),rgba(248,250,252,.8)),
  url('background.jpg') no-repeat center/cover fixed;
}
.bubble{
  position:absolute;border-radius:50%;
  border:1.5px solid rgba(164,214,94,.4);
  background-size:cover;background-position:center;
  display:flex;align-items:center;justify-content:center;
  animation:floatUp linear forwards;
  background-color:rgba(255,255,255,.25);
  backdrop-filter:blur(6px);
  cursor:pointer;z-index:30;
}
.bubble span{
  background:rgba(0,45,64,.75);
  color:white;padding:4px 10px;border-radius:6px;
  font-size:10px;font-weight:800;
  position:absolute;bottom:12px;width:85%;text-align:center;
}
@keyframes floatUp{
  0%{transform:translateY(110vh);}
  100%{transform:translateY(-30vh);}
}
#air-container{position:fixed;inset:0;z-index:20;pointer-events:none;}
.interactive{pointer-events:auto;}

#list-view{
  display:none;position:fixed;inset:0;z-index:100;
  background:white;overflow-y:auto;padding:100px 20px 160px;
}
.list-bubble{
  width:85px;height:85px;border-radius:50%;
  border:2px solid var(--lime);
  background-size:cover;background-position:center;
  position:relative;cursor:pointer;
}
.list-bubble span{
  position:absolute;bottom:-22px;font-size:8px;
  font-weight:900;color:var(--navy);
  width:100px;text-align:center;
}

#variant-modal{
  display:none;position:fixed;inset:0;z-index:300;
  background:rgba(0,0,0,.7);
  align-items:center;justify-content:center;
}
</style>
</head>

<body>

<!-- NAV -->
<nav class="fixed top-0 w-full z-[150] flex justify-between">
  <div class="bg-white p-3 px-6 rounded-br-[40px] shadow-lg flex gap-3 interactive" onclick="location.reload()">
    <img src="logo.png" class="w-10 h-10 object-contain">
    <div>
      <h1 class="text-[var(--navy)] text-lg font-black uppercase">Baxo</h1>
      <p class="text-[7px] tracking-widest text-slate-400 uppercase font-bold">Solutions</p>
    </div>
  </div>
  <div class="p-4 flex gap-2">
    <button onclick="toggleListView()" class="bg-[var(--lime)] px-6 py-3 rounded-full font-bold text-[10px] uppercase">Catalog</button>
    <button onclick="toggleProfile()" class="bg-[var(--navy)] text-white px-6 py-3 rounded-full font-bold text-[10px] uppercase">Profile</button>
  </div>
</nav>

<!-- HERO -->
<main class="relative z-10 min-h-screen pt-40 px-8">
  <h2 class="text-5xl font-black text-[var(--navy)] uppercase leading-tight">
    Prepared.<br>Protected.<br><span class="text-[var(--lime)]">Perfected.</span>
  </h2>
</main>

<div id="air-container"></div>

<!-- PROFILE -->
<div id="profile-modal" class="hidden fixed inset-0 z-[200] bg-[rgba(0,45,64,.96)] flex items-center justify-center p-6">
  <div class="max-w-md w-full text-center">
    <button onclick="toggleProfile()" class="text-4xl text-white mb-4">&times;</button>
    <img src="md-portrait.jpg" onerror="this.src='logo.png'" class="w-24 h-24 rounded-full mx-auto border-4 border-[var(--lime)] mb-4">
    <img src="business-card.jpg" class="rounded-xl shadow-xl mb-4">
    <div class="flex gap-3 justify-center">
      <a href="business-card.jpg" download class="bg-white text-[var(--navy)] px-4 py-2 rounded-lg font-bold text-xs">Download Card</a>
      <button onclick="sendCardWhatsApp()" class="bg-[#25D366] text-white px-4 py-2 rounded-lg font-bold text-xs">Send via WhatsApp</button>
    </div>
  </div>
</div>

<!-- CATALOG -->
<div id="list-view">
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-xl font-black uppercase text-[var(--navy)]">Product Catalog</h2>
    <button onclick="toggleListView()" class="text-3xl">&times;</button>
  </div>
  <div id="category-sections"></div>
</div>

<!-- VARIANT -->
<div id="variant-modal" class="flex">
  <div class="bg-white rounded-2xl p-6 max-w-sm w-full">
    <h3 id="variant-title" class="font-black uppercase mb-4 text-[var(--navy)]"></h3>
    <div id="variant-options" class="space-y-2"></div>
    <button onclick="closeVariant()" class="mt-4 w-full bg-slate-200 py-3 rounded-xl font-bold uppercase">Cancel</button>
  </div>
</div>

<!-- QUOTE -->
<div class="fixed bottom-0 w-full bg-white p-6 rounded-t-[3rem] shadow-xl z-[140]">
  <div class="flex gap-4 items-center">
    <div id="item-count" class="bg-[var(--lime)] w-10 h-10 rounded-full flex items-center justify-center font-black">0</div>
    <span class="font-black uppercase text-[var(--navy)]">My Quote Request</span>
  </div>
  <div id="quote-list" class="mt-4 space-y-2 max-h-48 overflow-y-auto"></div>
  <button onclick="sendToWhatsApp()" class="mt-4 w-full bg-[#25D366] text-white py-4 rounded-xl font-black uppercase">Submit Quote</button>
</div>

<script>
/* ========= INVENTORY (44 ITEMS) ========= */
const inventory = [
/* PPE (18) */ 
["Two-Tone Conti Suit",["32","34","36","38","40","42","44"],"PPE"],
["Reflective Conti Suit",["32","34","36","38","40","42","44"],"PPE"],
["Flame Retardant Suit (D59)",["32","34","36","38","40","42","44"],"PPE"],
["Acid Resistant Suit",["32","34","36","38","40","42","44"],"PPE"],
["Chelsea Safety Boots",["6","7","8","9","10","11"],"PPE"],
["Bova Traxx Boots",["6","7","8","9","10","11"],"PPE"],
["Capps Safety Shoes",["6","7","8","9","10","11"],"PPE"],
["Gum Boots",["6","7","8","9","10","11"],"PPE"],
["Safety Hard Hat",["White","Yellow","Blue","Red"],"PPE"],
["Reflective Vest",["S","M","L","XL","XXL"],"PPE"],
["Reflective Mesh Bib",["Standard"],"PPE"],
["Rain Suit",["S","M","L","XL","XXL"],"PPE"],
["Freezer Jacket",["S","M","L","XL","XXL"],"PPE"],
["Dust Mask (FFP2)",["Standard"],"PPE"],
["Safety Goggles",["Standard"],"PPE"],
["Ear Muffs",["Standard"],"PPE"],
["Leather Gloves",["Standard"],"PPE"],
["PVC Dipped Gloves",["S","M","L","XL"],"PPE"],

/* Medical (16) */
["Nitrile Gloves (Box 100)",["S","M","L","XL"],"Medical"],
["Latex Gloves (Box 100)",["S","M","L","XL"],"Medical"],
["Surgical Masks (Box 50)",["Standard"],"Medical"],
["N95 Respirators",["Standard"],"Medical"],
["Elbow Crutches",["Adult","Child"],"Medical"],
["Sharps Bin",["5L","10L","20L"],"Medical"],
["2ml Syringes",["Box"],"Medical"],
["5ml Syringes",["Box"],"Medical"],
["10ml Syringes",["Box"],"Medical"],
["21G Needles",["Box"],"Medical"],
["23G Needles",["Box"],"Medical"],
["Alcohol Prep Pads",["Box"],"Medical"],
["Digital Thermometer",["Standard"],"Medical"],
["Pulse Oximeter",["Standard"],"Medical"],
["First Aid Kit (Reg 3)",["Standard"],"Medical"],
["First Aid Kit (Reg 7)",["Standard"],"Medical"],

/* Hygiene (10) */
["Hospital Disinfectant",["5L","25L"],"Hygiene"],
["Hand Sanitizer",["5L"],"Hygiene"],
["Industrial Detergent",["5L","25L"],"Hygiene"],
["Pine Disinfectant",["5L"],"Hygiene"],
["Cleaning Trolley",["Standard"],"Hygiene"],
["Double Mop Bucket",["Standard"],"Hygiene"],
["Fan Mop Set",["Standard"],"Hygiene"],
["Soft Broom",["Standard"],"Hygiene"],
["Hard Broom",["Standard"],"Hygiene"],
["Microfiber Cloths (Pack)",["Pack"],"Hygiene"]
];

let selectedItems=[], currentItem=null;

/* ========= BUBBLES ========= */
function createBubble(){
  const item=inventory[Math.floor(Math.random()*inventory.length)];
  const b=document.createElement('div');
  b.className='bubble';
  b.style.width=b.style.height='140px';
  b.style.left=(Math.random()*80+5)+'vw';
  b.style.animationDuration=(Math.random()*6+6)+'s';
  b.style.backgroundImage="url('placeholder.png')";
  b.innerHTML=`<span>${item[0]}</span>`;
  b.onclick=()=>openVariant(item);
  document.getElementById('air-container').appendChild(b);
  b.addEventListener('animationend',()=>b.remove());
}

/* ========= VARIANT ========= */
function openVariant(item){
  currentItem=item;
  document.getElementById('variant-title').innerText=item[0];
  document.getElementById('variant-options').innerHTML=
    item[1].map(s=>`<button onclick="addItem('${item[0]}','${s}')" class="w-full bg-[var(--lime)] py-3 rounded-xl font-bold uppercase">${s}</button>`).join('');
  document.getElementById('variant-modal').style.display='flex';
}
function closeVariant(){document.getElementById('variant-modal').style.display='none';}

/* ========= QUOTE ========= */
function addItem(name,size){
  const found=selectedItems.find(i=>i.name===name && i.size===size);
  if(found){found.qty++;}else{selectedItems.push({name,size,qty:1});}
  closeVariant();updateUI();
}
function updateUI(){
  document.getElementById('item-count').innerText=selectedItems.reduce((t,i)=>t+i.qty,0);
  document.getElementById('quote-list').innerHTML=
    selectedItems.map((i,idx)=>`
      <div class="bg-slate-100 p-3 rounded-xl text-xs font-bold">
        ${i.qty}x ${i.name} (${i.size})
        <div class="flex gap-2 mt-1">
          <button onclick="changeQty(${idx},-1)">−</button>
          <button onclick="changeQty(${idx},1)">+</button>
          <button onclick="removeItem(${idx})" class="ml-auto text-red-500">×</button>
        </div>
      </div>`).join('');
}
function changeQty(i,d){selectedItems[i].qty+=d;if(selectedItems[i].qty<=0)removeItem(i);updateUI();}
function removeItem(i){selectedItems.splice(i,1);updateUI();}

/* ========= CATALOG ========= */
function toggleListView(){
  const lv=document.getElementById('list-view');
  lv.style.display=lv.style.display==='block'?'none':'block';
  if(lv.style.display==='block')renderCatalog();
}
function renderCatalog(){
  const c=document.getElementById('category-sections');
  c.innerHTML='';
  ["PPE","Medical","Hygiene"].forEach(cat=>{
    c.innerHTML+=`<h3 class="font-black uppercase mt-8 mb-4">${cat}</h3>
    <div class="flex gap-8 overflow-x-auto">
    ${inventory.filter(i=>i[2]===cat).map(i=>`
      <div class="list-bubble" style="background-image:url('placeholder.png')" onclick="openVariant(${JSON.stringify(i).replace(/"/g,'&quot;')})">
        <span>${i[0]}</span>
      </div>`).join('')}
    </div>`;
  });
}

/* ========= WHATSAPP ========= */
function sendToWhatsApp(){
  let msg="*BAXO QUOTE REQUEST*\n\n"+selectedItems.map(i=>`${i.qty}x ${i.name} (${i.size})`).join("\n");
  window.open(`https://wa.me/26773811270?text=${encodeURIComponent(msg)}`);
}
function sendCardWhatsApp(){
  window.open(`https://wa.me/26773811270?text=${encodeURIComponent("BAXO SOLUTIONS BUSINESS CARD\n"+location.origin+"/business-card.jpg")}`);
}
function toggleProfile(){
  const p=document.getElementById('profile-modal');
  p.classList.toggle('hidden');
}

setInterval(createBubble,2500);
</script>

</body>
</html>
